<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Apprentissage du Français ! 🚀</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #e0f7fa; /* Light blue background */
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png'); /* Subtle pattern */
        }
        
        header {
            background-color: #81c784; /* Lighter green */
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '✨';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 3em;
            opacity: 0.5;
        }

        header::after {
            content: '🎉';
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 3em;
            opacity: 0.5;
        }
        
        h1 {
            font-family: 'Fredoka One', cursive;
            color: #388e3c; /* Darker green for heading */
            font-size: 3em;
            text-shadow: 2px 2px #c8e6c9;
            margin-bottom: 5px;
        }

        h2, h3 {
            font-family: 'Fredoka One', cursive;
            color: #4CAF50; /* Green */
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 2em;
        }

        p {
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .exercise {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            border: 2px solid #a5d6a7; /* Light green border */
        }

        .lesson-box {
            background-color: #e8f5e9; /* Very light green */
            border-left: 5px solid #4CAF50;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        .lesson-box h3 {
            color: #388e3c;
            margin-top: 0;
        }
        
        .vocabulary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #f9fbe7; /* Pale yellow */
            border-radius: 8px;
            overflow: hidden; /* Ensures border-radius applies to table content */
        }
        
        .vocabulary-table th, .vocabulary-table td {
            border: 1px solid #c5e1a5; /* Light green border */
            padding: 12px;
            text-align: left;
        }
        
        .vocabulary-table th {
            background-color: #dcedc8; /* Lighter green */
            font-weight: bold;
            color: #388e3c;
        }
        
        .fill-blank {
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f4c3; /* Lightest yellow */
            border-radius: 8px;
            border: 1px dashed #cddc39; /* Dash green border */
        }
        
        .fill-blank input[type="text"] {
            padding: 10px;
            margin: 0 8px;
            border: 2px solid #aed581; /* Greenish border */
            border-radius: 6px;
            font-size: 1.1em;
            transition: all 0.3s ease;
            outline: none;
            width: 120px; /* Adjust width for better look */
        }

        .fill-blank input[type="text"]:focus {
            border-color: #4CAF50;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);
        }
        
        button {
            background-color: #4CAF50; /* Green */
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2em;
            margin-top: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            font-family: 'Fredoka One', cursive;
        }
        
        button:hover {
            background-color: #66bb6a; /* Lighter green on hover */
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            font-weight: bold;
            font-size: 1.1em;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .correct {
            background-color: #d4edda; /* Light green */
            color: #155724; /* Dark green */
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background-color: #f8d7da; /* Light red */
            color: #721c24; /* Dark red */
            border: 1px solid #f5c6cb;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pronoun-exercise, .adjective-exercise {
            margin: 20px 0;
            padding: 15px;
            background-color: #e3f2fd; /* Light blue */
            border-radius: 8px;
            border: 1px dashed #90caf9;
        }
        
        .pronoun-exercise input[type="text"] {
            padding: 8px;
            margin: 0 5px;
            border: 2px solid #90caf9;
            border-radius: 5px;
            width: 60px; /* Wider for clarity */
            font-size: 1.1em;
            text-align: center;
            transition: all 0.3s ease;
            outline: none;
        }

        .pronoun-exercise input[type="text"]:focus {
            border-color: #2196F3;
            box-shadow: 0 0 8px rgba(33, 150, 243, 0.4);
        }
        
        .adjective-option {
            display: inline-block;
            margin: 5px 10px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 20px;
            background-color: #e1f5fe; /* Very light blue */
            border: 1px solid #bbdefb;
            transition: all 0.2s ease;
            font-size: 1.1em;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.7);
        }
        
        .adjective-option:hover {
            background-color: #b3e5fc; /* Lighter blue on hover */
            transform: translateY(-1px);
        }
        
        .selected {
            background-color: #2196F3; /* Blue */
            color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border-color: #2196F3;
            text-shadow: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .tab {
            display: none;
        }
        
        .tab.active {
            display: block;
        }
        
        .tab-buttons {
            display: flex;
            justify-content: center; /* Center the buttons */
            margin-bottom: 20px;
            border-bottom: 2px solid #c8e6c9; /* Light green border */
            padding-bottom: 5px;
            flex-wrap: wrap; /* Allow buttons to wrap */
        }
        
        .tab-button {
            padding: 12px 25px;
            background-color: #f1f8e9; /* Off-white green */
            border: none;
            cursor: pointer;
            margin: 5px; /* Add margin for spacing */
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            color: #4CAF50;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .tab-button.active {
            background-color: #4CAF50; /* Green */
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform: translateY(-2px);
        }

        .tab-button:hover:not(.active) {
            background-color: #e8f5e9;
            transform: translateY(-1px);
        }

        /* Styles for the "Verbe Avoir" drag-and-drop suggestion (visual only) */
        .drag-drop-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .drag-source, .drop-target {
            background-color: #fff9c4;
            border: 2px dashed #ffeb3b;
            padding: 15px 20px;
            border-radius: 10px;
            min-width: 100px;
            text-align: center;
            font-weight: bold;
            cursor: grab;
            user-select: none;
        }

        .drop-target {
            background-color: #c8e6c9;
            border: 2px solid #81c784;
            min-height: 50px;
            cursor: default;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            h2, h3 {
                font-size: 1.8em;
            }
            .tab-buttons {
                flex-direction: column;
                align-items: stretch;
            }
            .tab-button {
                margin: 5px 0;
            }
            .fill-blank input[type="text"], .pronoun-exercise input[type="text"] {
                width: 100px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2em;
            }
            h2, h3 {
                font-size: 1.5em;
            }
            .fill-blank input[type="text"], .pronoun-exercise input[type="text"] {
                width: 80px;
                margin: 5px 2px;
            }
            .adjective-option {
                padding: 6px 10px;
                font-size: 1em;
                margin: 3px 5px;
            }
            .vocabulary-table th, .vocabulary-table td {
                padding: 8px;
                font-size: 0.9em;
            }
        }

        /* Arabic specific styling */
        .arabic {
            font-family: 'Amiri', serif; /* A good Arabic font */
            direction: rtl;
            text-align: right;
            font-size: 1.1em;
            margin-top: 10px;
            color: #555;
        }
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap');

    </style>
</head>
<body>
    <header>
        <h1>Super Apprentissage du Français ! 🚀</h1>
        <p>Des exercices amusants pour devenir un champion du français !</p>
        <p class="arabic">منصة تعليمية ممتعة لتعلم اللغة الفرنسية 🤩</p>
    </header>

    <div class="tab-buttons">
        <button class="tab-button active" onclick="openTab(event, 'tab1')">Décrire des Animaux 🐘</button>
        <button class="tab-button" onclick="openTab(event, 'tab2')">Les Pronoms Personnels 🐵</button>
        <button class="tab-button" onclick="openTab(event, 'tab3')">Le Verbe AVOIR 🎉</button>
        <button class="tab-button" onclick="openTab(event, 'tab4')">Les Adjectifs Qualificatifs ✨</button>
    </div>

    <div id="tab1" class="tab active">
        <div class="exercise">
            <h2>Description de l'éléphant 🐘</h2>
            <p>Connais-tu bien l'éléphant ? Complète la phrase avec les bons mots !</p>
            <p class="arabic">هل تعرف الفيل جيدًا؟ أكمل الجملة بالكلمات الصحيحة!</p>
            <p>Mots à utiliser : **des pattes – des défenses – une trompe – une queue – un cou - une tête.**</p>
            <p class="arabic">الكلمات التي يمكنك استخدامها: <b>أرجل - أنياب - خرطوم - ذيل - عنق - رأس.</b></p>
            
            <div class="fill-blank">
                <p>L'éléphant a <input type="text" id="elephant1" placeholder="..."> et <input type="text" id="elephant2" placeholder="..."></p>
                <p>Il a aussi <input type="text" id="elephant3" placeholder="...">, <input type="text" id="elephant4" placeholder="...">, <input type="text" id="elephant5" placeholder="..."> et <input type="text" id="elephant6" placeholder="...">.</p>
                <button onclick="checkElephantDescription()">Vérifier mes réponses ! ✅</button>
                <div id="elephantFeedback" class="feedback"></div>
            </div>
            
            ---
            <h3>Écris ta propre description ! ✍️</h3>
            <p>Imagine que tu as visité un zoo et que tu as vu un éléphant. Écris un petit paragraphe (4 à 5 phrases) pour le décrire.</p>
            <p class="arabic">تخيل أنك زرت حديقة الحيوان ورأيت فيلًا. اكتب فقرة قصيرة (4 إلى 5 جمل) لوصفه.</p>
            <ul>
                <li>Conjugue les verbes au présent de l'indicatif.</li>
                <li>Utilise la troisième personne du singulier (il/elle).</li>
            </ul>
            
            <table class="vocabulary-table">
                <thead>
                    <tr>
                        <th>Noms (أسماء)</th>
                        <th>Verbes (أفعال)</th>
                        <th>Adjectifs (صفات)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>L'éléphant, animal, deux oreilles, une peau, une trompe, une queue</td>
                        <td>être (يكون), avoir (يمتلك)</td>
                        <td>sauvage (برّي), fort (قوي), grandes (كبيرة), jolie (جميلة), longue (طويلة), énorme (ضخم), courte (قصيرة), gris (رمادي)</td>
                    </tr>
                </tbody>
            </table>
            
            <textarea id="elephantEssay" rows="7" placeholder="Commence à écrire ta super description ici..."></textarea>
            <button onclick="checkEssay('elephantEssay')">Vérifier la longueur de mon texte 📏</button>
            <div id="essayFeedback" class="feedback"></div>
        </div>
        
        <div class="exercise">
            <h2>Description de la gazelle 🦒💨</h2>
            <p>Maintenant, c'est au tour de la gazelle ! Complète la phrase avec les bons mots.</p>
            <p class="arabic">والآن دور الغزالة! أكمل الجملة بالكلمات الصحيحة.</p>
            <p>Mots à utiliser : **des pattes – des cornes – des sabots – une tête - une queue – un cou.**</p>
            <p class="arabic">الكلمات التي يمكنك استخدامها: <b>أرجل - قرون - حوافر - رأس - ذيل - عنق.</b></p>
            
            <div class="fill-blank">
                <p>La gazelle a <input type="text" id="gazelle1" placeholder="..."> et <input type="text" id="gazelle2" placeholder="..."></p>
                <p>Elle a aussi <input type="text" id="gazelle3" placeholder="...">, <input type="text" id="gazelle4" placeholder="...">, <input type="text" id="gazelle5" placeholder="..."> et <input type="text" id="gazelle6" placeholder="...">.</p>
                <button onclick="checkGazelleDescription()">Vérifier mes réponses ! ✅</button>
                <div id="gazelleFeedback" class="feedback"></div>
            </div>
            
            ---
            <h3>Écris ta propre description ! ✍️</h3>
            <p>Tu as aussi vu une gazelle au zoo ! Décris-la en 4 à 5 phrases.</p>
            <p class="arabic">لقد رأيت غزالة أيضًا في حديقة الحيوان! صفها في 4 إلى 5 جمل.</p>
            <ul>
                <li>N'oublie pas le présent de l'indicatif.</li>
                <li>Utilise la troisième personne du singulier.</li>
            </ul>
            
            <table class="vocabulary-table">
                <thead>
                    <tr>
                        <th>Noms (أسماء)</th>
                        <th>Verbes (أفعال)</th>
                        <th>Adjectifs (صفات)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>La gazelle, animal, deux cornes, une tête, une queue, quatre pattes, des sabots</td>
                        <td>être (يكون), avoir (يمتلك)</td>
                        <td>sauvage (برّي), rapide (سريعة), jolie (جميلة), petite (صغيرة), courte (قصيرة), fine (نحيلة), noire (سوداء)</td>
                    </tr>
                </tbody>
            </table>
            
            <textarea id="gazelleEssay" rows="7" style="width: 100%; margin-top: 15px;" placeholder="Décris la gazelle ici..."></textarea>
            <button onclick="checkEssay('gazelleEssay')">Vérifier la longueur de mon texte 📏</button>
            <div id="gazelleEssayFeedback" class="feedback"></div>
        </div>
    </div>

    <div id="tab2" class="tab">
        <div class="exercise">
            <h2>Les Pronoms Personnels : Qui fait l'action ? 🧑‍🤝‍🧑</h2>
            <p>Les pronoms personnels sont des petits mots magiques qui remplacent le nom d'une personne ou d'une chose. Cela nous aide à ne pas répéter les mêmes mots tout le temps !</p>
            <p class="arabic">الضمائر الشخصية هي كلمات سحرية صغيرة تحل محل اسم شخص أو شيء. هذا يساعدنا على عدم تكرار نفس الكلمات طوال الوقت!</p>
            <div class="lesson-box">
                <h3>Apprenons ensemble !</h3>
                <p>Voici les pronoms personnels les plus courants :</p>
                <ul>
                    <li>**Je** (أنا) : quand c'est moi qui parle.</li>
                    <li>**Tu** (أنتَ/أنتِ) : quand je parle à quelqu'un.</li>
                    <li>**Il** (هو) / **Elle** (هي) : pour une seule personne ou chose.</li>
                    <li>**Nous** (نحن) : quand c'est moi et d'autres personnes.</li>
                    <li>**Vous** (أنتم/أنتن) : quand je parle à plusieurs personnes, ou à une personne que je respecte beaucoup.</li>
                    <li>**Ils** (هم) / **Elles** (هن) : pour plusieurs personnes ou choses.</li>
                </ul>
                <p>N'oublie pas : **Il** et **Ils** sont pour le masculin, **Elle** et **Elles** pour le féminin !</p>
            </div>
            ---
            <h3>Exercice : Remplace le sujet par le bon pronom ! 📝</h3>
            <p>Lis la phrase et trouve le pronom qui peut remplacer le mot en gras.</p>
            <p class="arabic">اقرأ الجملة واعثر على الضمير الذي يمكن أن يحل محل الكلمة الغامقة.</p>
            
            <div class="pronoun-exercise">
                <p>Le zèbre vit dans la savane. <input type="text" id="pronoun1" placeholder="..."> vit dans la savane.</p>
                <p>L'ours est un animal sauvage. <input type="text" id="pronoun2" placeholder="..."> est un animal sauvage.</p>
                <p>Les gazelles sont rapides. <input type="text" id="pronoun3" placeholder="..."> sont rapides.</p>
                <p>Les chameaux vivent dans le désert. <input type="text" id="pronoun4" placeholder="..."> vivent dans le désert.</p>
                <p>Ma sœur joue au ballon. <input type="text" id="pronoun8" placeholder="..."> joue au ballon.</p>
                <p>Mon frère et moi lisons un livre. <input type="text" id="pronoun9" placeholder="..."> lisons un livre.</p>
                <button onclick="checkPronouns()">Vérifier mes pronoms ! ✨</button>
                <div id="pronounFeedback" class="feedback"></div>
            </div>
        </div>
    </div>

    <div id="tab3" class="tab">
        <div class="exercise">
            <h2>Le verbe AVOIR : Ce que tu possèdes ! 🍎📚</h2>
            <p>Le verbe "avoir" est super important ! Il sert à dire ce que tu possèdes, ton âge, ou comment tu te sens.</p>
            <p class="arabic">فعل "avoir" (يمتلك) مهم جدًا! يستخدم لقول ما تمتلكه، وعمرك، أو كيف تشعر.</p>
            <div class="lesson-box">
                <h3>Conjugaison d'AVOIR au Présent</h3>
                <p>Regarde bien comment le verbe AVOIR change avec chaque pronom :</p>
                <table class="vocabulary-table">
                    <thead>
                        <tr>
                            <th>Pronom (ضمير)</th>
                            <th>Avoir (يمتلك)</th>
                            <th>Exemple (مثال)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Je</td><td>ai</td><td>J'ai un livre. (لدي كتاب)</td></tr>
                        <tr><td>Tu</td><td>as</td><td>Tu as un stylo. (لديك قلم)</td></tr>
                        <tr><td>Il / Elle / On</td><td>a</td><td>Il a un chien. (لديه كلب)</td></tr>
                        <tr><td>Nous</td><td>avons</td><td>Nous avons faim. (نحن جائعون)</td></tr>
                        <tr><td>Vous</td><td>avez</td><td>Vous avez chaud. (أنتم تشعرون بالحر)</td></tr>
                        <tr><td>Ils / Elles</td><td>ont</td><td>Ils ont des amis. (لديهم أصدقاء)</td></tr>
                    </tbody>
                </table>
            </div>
            ---
            <h3>1. Relie le pronom au bon "AVOIR" ! 🧩</h3>
            <p>Choisis la bonne forme du verbe "avoir" pour chaque pronom.</p>
            <p class="arabic">اختر الشكل الصحيح لفعل "avoir" لكل ضمير.</p>
            <div style="display: flex; justify-content: space-around; margin: 20px 0; flex-wrap: wrap;">
                <div style="margin: 10px;">
                    <p>J'</p>
                    <p>Tu</p>
                    <p>Il/Elle/On</p>
                </div>
                <div style="margin: 10px;">
                    <select id="avoir1">
                        <option value="">--Choisir--</option>
                        <option value="ai">ai</option>
                        <option value="as">as</option>
                        <option value="a">a</option>
                    </select>
                    <br><br>
                    <select id="avoir2">
                        <option value="">--Choisir--</option>
                        <option value="ai">ai</option>
                        <option value="as">as</option>
                        <option value="a">a</option>
                    </select>
                    <br><br>
                    <select id="avoir3">
                        <option value="">--Choisir--</option>
                        <option value="ai">ai</option>
                        <option value="as">as</option>
                        <option value="a">a</option>
                    </select>
                </div>
                <div style="margin: 10px;">
                    <p>Nous</p>
                    <p>Vous</p>
                    <p>Ils/Elles</p>
                </div>
                <div style="margin: 10px;">
                    <select id="avoir4">
                        <option value="">--Choisir--</option>
                        <option value="avons">avons</option>
                        <option value="avez">avez</option>
                        <option value="ont">ont</option>
                    </select>
                    <br><br>
                    <select id="avoir5">
                        <option value="">--Choisir--</option>
                        <option value="avons">avons</option>
                        <option value="avez">avez</option>
                        <option value="ont">ont</option>
                    </select>
                    <br><br>
                    <select id="avoir6">
                        <option value="">--Choisir--</option>
                        <option value="avons">avons</option>
                        <option value="avez">avez</option>
                        <option value="ont">ont</option>
                    </select>
                </div>
            </div>
            <button onclick="checkAvoirMatch()">Vérifier les paires ! ✅</button>
            <div id="avoirMatchFeedback" class="feedback"></div>

            ---
            <h3>2. Choisis la bonne réponse ! 👍👎</h3>
            <p>Clique sur la forme correcte du verbe "avoir" dans chaque phrase.</p>
            <p class="arabic">انقر على الشكل الصحيح للفعل "avoir" في كل جملة.</p>
            <div class="adjective-exercise">
                <p>Il <span class="adjective-option" data-correct="a">a</span> / <span class="adjective-option">ai</span> quatre pattes.</p>
                <p>Nous <span class="adjective-option" data-correct="avons">avons</span> / <span class="adjective-option">avez</span> une grande maison.</p>
                <p>J' <span class="adjective-option">as</span> / <span class="adjective-option" data-correct="ai">ai</span> un cartable bleu.</p>
                <p>Elles <span class="adjective-option" data-correct="ont">ont</span> / <span class="adjective-option">avez</span> de jolies cornes.</p>
                <button onclick="checkAvoirMultipleChoice()">Vérifier mes choix ! ✔️</button>
                <div id="avoirMultipleChoiceFeedback" class="feedback"></div>
            </div>
            
            ---
            <h3>3. Complète avec le pronom qui convient. 🖊️</h3>
            <p>Quel pronom va avec cette forme du verbe "avoir" ?</p>
            <p class="arabic">أي ضمير يتناسب مع هذا الشكل من فعل "avoir"؟</p>
            <div class="fill-blank">
                <p><input type="text" id="pronoun5" placeholder="..."> avez des stylos bleus.</p>
                <p><input type="text" id="pronoun6" placeholder="..."> as une jolie robe rose.</p>
                <p><input type="text" id="pronoun7" placeholder="..."> a un long cou.</p>
                <p><input type="text" id="pronoun10" placeholder="..."> ont beaucoup de jouets.</p>
                <button onclick="checkPronouns2()">Vérifier les pronoms ! 🧐</button>
                <div id="pronounFeedback2" class="feedback"></div>
            </div>
        </div>
    </div>

    <div id="tab4" class="tab">
        <div class="exercise">
            <h2>Les Adjectifs Qualificatifs : Pour décrire le monde ! 🌈</h2>
            <p>Les adjectifs qualificatifs sont des mots qui nous aident à décrire les personnes, les animaux ou les choses. Ils nous disent comment ils sont !</p>
            <p class="arabic">الصفات هي كلمات تساعدنا في وصف الأشخاص أو الحيوانات أو الأشياء. إنها تخبرنا كيف تبدو!</p>
            <div class="lesson-box">
                <h3>L'Accord de l'Adjectif</h3>
                <p>Attention ! L'adjectif s'accorde avec le nom qu'il décrit. Cela veut dire qu'il peut changer de forme :</p>
                <ul>
                    <li>Si le nom est féminin, l'adjectif prend souvent un **'e'** à la fin. Ex: une table <span style="color: blue;">**petite**</span>.</li>
                    <li>Si le nom est au pluriel (plusieurs), l'adjectif prend souvent un **'s'** à la fin. Ex: des chiens <span style="color: blue;">**grands**</span>.</li>
                    <li>Si le nom est féminin ET pluriel, l'adjectif prend souvent **'es'** à la fin. Ex: des fleurs <span style="color: blue;">**rouges**</span>.</li>
                </ul>
                <p>C'est un peu comme un caméléon qui change de couleur pour s'adapter !</p>
            </div>
            ---
            <h3>1. Complète avec le bon adjectif ! 📝</h3>
            <p>Choisis l'adjectif qui convient le mieux pour chaque description.</p>
            <p class="arabic">اختر الصفة الأنسب لكل وصف.</p>
            <p>Mots à utiliser : **petites – jolie – grandes – puissante – fines – longue – énormes – pointus**</p>
            <p class="arabic">الكلمات التي يمكنك استخدامها: <b>صغيرة - جميلة - كبيرة - قوية - نحيلة - طويلة - ضخمة - مدببة.</b></p>
            
            <div class="fill-blank">
                <p>Le lion a une <input type="text" id="adj1" placeholder="..."> crinière.</p>
                <p>Il possède une mâchoire <input type="text" id="adj2" placeholder="...">.</p>
                <p>Le fennec a de <input type="text" id="adj3" placeholder="..."> oreilles (attention au piège !).</p>
                <p>Il possède une <input type="text" id="adj4" placeholder="..."> queue.</p>
                <p>L'éléphant a deux <input type="text" id="adj5" placeholder="..."> oreilles.</p>
                <p>Il possède des pattes <input type="text" id="adj6" placeholder="...">.</p>
                <p>La gazelle a des pattes <input type="text" id="adj7" placeholder="...">.</p>
                <p>Elle possède des sabots <input type="text" id="adj8" placeholder="...">.</p>
                <button onclick="checkAdjectives()">Vérifier les adjectifs ! 🌟</button>
                <div id="adjectiveFeedback" class="feedback"></div>
            </div>
            
            ---
            <h3>2. Choisis la bonne forme de l'adjectif ! ✅❌</h3>
            <p>L'adjectif doit s'accorder avec le nom. Clique sur la forme correcte !</p>
            <p class="arabic">يجب أن تتوافق الصفة مع الاسم. انقر على الشكل الصحيح!</p>
            <div class="adjective-exercise">
                <p data-correct-option="long">La girafe a un <span class="adjective-option">long</span> / <span class="adjective-option">longue</span> cou.</p>
                <p data-correct-option="courte">Sa queue est <span class="adjective-option">court</span> / <span class="adjective-option">courte</span>.</p>
                <p data-correct-option="noires">Le zèbre a des rayures <span class="adjective-option">noire</span> / <span class="adjective-option">noires</span>.</p>
                <p data-correct-option="grande">Sa tête est <span class="adjective-option">grand</span> / <span class="adjective-option">grande</span>.</p>
                <button onclick="checkAdjectiveMultipleChoice()">Vérifier l'accord ! 🤝</button>
                <div id="adjectiveMultipleChoiceFeedback" class="feedback"></div>
            </div>
            
            ---
            <h3>3. Accorde l'adjectif ! ✍️</h3>
            <p>Écris la forme correcte de l'adjectif entre crochets.</p>
            <p class="arabic">اكتب الشكل الصحيح للصفة بين قوسين.</p>
            <div class="fill-blank">
                <p>Le loup possède des pattes [puissant] <input type="text" id="adj9" placeholder="...">.</p>
                <p>Le chameau a deux [joli] <input type="text" id="adj10" placeholder="..."> bosses.</p>
                <p>Le singe a une [long] <input type="text" id="adj11" placeholder="..."> queue.</p>
                <p>La maison est [grand] <input type="text" id="adj12" placeholder="...">.</p>
                <button onclick="checkAdjectiveAgreement()">Vérifier l'accord final ! 🏆</button>
                <div id="agreementFeedback" class="feedback"></div>
            </div>
        </div>
    </div>

    <script>
        // Global function to manage tab switching
        function openTab(evt, tabName) {
            const tabs = document.getElementsByClassName("tab");
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }
            
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }
            
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active"); // Correctly sets active class to the clicked button
        }
        
        // Function to handle adjective option selection
        function selectOption(element) {
            const parentParagraph = element.closest('p');
            if (parentParagraph) {
                const options = parentParagraph.querySelectorAll(".adjective-option");
                options.forEach(opt => opt.classList.remove("selected"));
                element.classList.add("selected");
            }
        }

        // --- Tab 1: Animal Descriptions ---

        function checkElephantDescription() {
            const answers = [
                document.getElementById("elephant1").value.toLowerCase().trim(), // Added trim()
                document.getElementById("elephant2").value.toLowerCase().trim(),
                document.getElementById("elephant3").value.toLowerCase().trim(),
                document.getElementById("elephant4").value.toLowerCase().trim(),
                document.getElementById("elephant5").value.toLowerCase().trim(),
                document.getElementById("elephant6").value.toLowerCase().trim()
            ];
            
            // Correct answers, now checking if ANY of the words from the provided list are used
            // The order doesn't matter as much, but using a set for correct words is better
            const allowedWords = new Set(["des pattes", "des défenses", "une trompe", "une queue", "un cou", "une tête"]);
            let allCorrect = true;
            let feedbackMessages = [];
            let submittedWords = new Set(answers);

            // Check if all correct words are present in the submitted answers
            for (let correctWord of allowedWords) {
                if (!submittedWords.has(correctWord)) {
                    allCorrect = false;
                    feedbackMessages.push(`Il manque le mot "${correctWord}".`);
                }
            }

            // Check for incorrect words submitted
            for (let answer of answers) {
                if (!allowedWords.has(answer) && answer !== "") { // Ignore empty answers
                    allCorrect = false;
                    feedbackMessages.push(`Le mot "${answer}" n'est pas attendu ici.`);
                }
            }

            const feedbackDiv = document.getElementById("elephantFeedback");
            if (allCorrect && answers.length === allowedWords.size && answers.every(ans => ans !== "")) { // Ensure all blanks are filled correctly
                feedbackDiv.innerHTML = "Toutes les réponses sont correctes! Bravo, champion(ne)! 🎉";
                feedbackDiv.className = "feedback correct";
            } else {
                if (feedbackMessages.length === 0) {
                     feedbackDiv.innerHTML = "Tu as peut-être oublié de remplir toutes les cases ou l'ordre n'est pas parfait. Réessaie !";
                } else {
                    feedbackDiv.innerHTML = "Oops, il y a des erreurs :<br>" + feedbackMessages.join("<br>");
                }
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }
        
        function checkGazelleDescription() {
            const answers = [
                document.getElementById("gazelle1").value.toLowerCase().trim(),
                document.getElementById("gazelle2").value.toLowerCase().trim(),
                document.getElementById("gazelle3").value.toLowerCase().trim(),
                document.getElementById("gazelle4").value.toLowerCase().trim(),
                document.getElementById("gazelle5").value.toLowerCase().trim(),
                document.getElementById("gazelle6").value.toLowerCase().trim()
            ];
            
            const allowedWords = new Set(["des pattes", "des cornes", "des sabots", "une tête", "une queue", "un cou"]);
            let allCorrect = true;
            let feedbackMessages = [];
            let submittedWords = new Set(answers);

            for (let correctWord of allowedWords) {
                if (!submittedWords.has(correctWord)) {
                    allCorrect = false;
                    feedbackMessages.push(`Il manque le mot "${correctWord}".`);
                }
            }

            for (let answer of answers) {
                if (!allowedWords.has(answer) && answer !== "") {
                    allCorrect = false;
                    feedbackMessages.push(`Le mot "${answer}" n'est pas attendu ici.`);
                }
            }
            
            const feedbackDiv = document.getElementById("gazelleFeedback");
            if (allCorrect && answers.length === allowedWords.size && answers.every(ans => ans !== "")) {
                feedbackDiv.innerHTML = "Super ! Toutes tes réponses sont correctes ! ✨";
                feedbackDiv.className = "feedback correct";
            } else {
                if (feedbackMessages.length === 0) {
                     feedbackDiv.innerHTML = "Vérifie bien toutes tes réponses. Il y a peut-être un mot manquant ou en trop !";
                } else {
                    feedbackDiv.innerHTML = "Oops, il y a des erreurs :<br>" + feedbackMessages.join("<br>");
                }
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }
        
        function checkEssay(textareaId) {
            const essay = document.getElementById(textareaId).value.trim();
            // Improved sentence splitting to handle various punctuation and multiple spaces
            const sentences = essay.split(/[.!?\n]+/).filter(s => s.trim().length > 0);
            const feedbackDiv = textareaId === "elephantEssay" ? document.getElementById("essayFeedback") : document.getElementById("gazelleEssayFeedback");
            
            if (sentences.length >= 4 && sentences.length <= 5) {
                feedbackDiv.innerHTML = `Bravo ! Votre paragraphe contient ${sentences.length} phrases, c'est parfait ! 🌟`;
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = `Ton paragraphe contient ${sentences.length} phrases. Essaie d'écrire entre 4 et 5 phrases pour que ce soit parfait ! 😉`;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }
        
        // --- Tab 2: Pronouns ---

        function checkPronouns() {
            const answers = [
                document.getElementById("pronoun1").value.toLowerCase().trim(),
                document.getElementById("pronoun2").value.toLowerCase().trim(),
                document.getElementById("pronoun3").value.toLowerCase().trim(),
                document.getElementById("pronoun4").value.toLowerCase().trim(),
                document.getElementById("pronoun8").value.toLowerCase().trim(), // New pronoun exercise
                document.getElementById("pronoun9").value.toLowerCase().trim()  // New pronoun exercise
            ];
            
            const correctAnswers = ["il", "il", "elles", "ils", "elle", "nous"]; // Updated correct answers
            let allCorrect = true;
            let feedback = "";
            
            for (let i = 0; i < answers.length; i++) {
                if (answers[i] !== correctAnswers[i]) {
                    allCorrect = false;
                    feedback += `La réponse pour la phrase ${i+1} est incorrecte. La bonne réponse est "${correctAnswers[i]}".<br>`;
                }
            }
            
            const feedbackDiv = document.getElementById("pronounFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Fantastique ! Tous tes pronoms sont corrects ! 🥳";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Pas tout à fait... Voici ce qu'il faut revoir :<br>" + feedback;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }

        // --- Tab 3: Verbe Avoir ---

        function checkAvoirMatch() {
            const answers = [
                document.getElementById("avoir1").value,
                document.getElementById("avoir2").value,
                document.getElementById("avoir3").value,
                document.getElementById("avoir4").value,
                document.getElementById("avoir5").value,
                document.getElementById("avoir6").value
            ];

            const correctAnswers = ["ai", "as", "a", "avons", "avez", "ont"];
            let allCorrect = true;
            let feedback = "";

            for (let i = 0; i < answers.length; i++) {
                if (answers[i] !== correctAnswers[i]) {
                    allCorrect = false;
                    feedback += `Le choix ${i+1} est incorrect. Essaie encore !<br>`;
                }
            }

            const feedbackDiv = document.getElementById("avoirMatchFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Bien joué ! Tu as parfaitement relié le verbe AVOIR ! ✨";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Il y a quelques erreurs dans les paires. Relis bien la leçon !<br>" + feedback;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }

        function checkAvoirMultipleChoice() {
            const paragraphs = document.querySelectorAll('#tab3 .adjective-exercise p');
            let allCorrect = true;
            let feedbackMessages = [];

            paragraphs.forEach((p, index) => {
                const selectedOption = p.querySelector('.adjective-option.selected');
                const correctOptionValue = p.dataset.correctOption; // This will be undefined, need to use data-correct attribute on span
                
                const correctSpan = p.querySelector('.adjective-option[data-correct]');
                let isCorrectlySelected = false;

                if (selectedOption && correctSpan && selectedOption === correctSpan) {
                    isCorrectlySelected = true;
                }

                if (!isCorrectlySelected) {
                    allCorrect = false;
                    feedbackMessages.push(`Phrase ${index + 1} : Ce n'est pas la bonne forme. Regarde bien !`);
                }
            });

            const feedbackDiv = document.getElementById("avoirMultipleChoiceFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Excellent ! Tous tes choix sont corrects pour le verbe AVOIR ! 🏆";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Oups ! Il y a des erreurs. Vérifie tes sélections.<br>" + feedbackMessages.join("<br>");
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }
        
        function checkPronouns2() {
            const answers = [
                document.getElementById("pronoun5").value.toLowerCase().trim(),
                document.getElementById("pronoun6").value.toLowerCase().trim(),
                document.getElementById("pronoun7").value.toLowerCase().trim(),
                document.getElementById("pronoun10").value.toLowerCase().trim() // New pronoun
            ];
            
            const correctAnswers = ["vous", "tu", "il", "ils"]; // Updated correct answers for avoir
            let allCorrect = true;
            let feedback = "";
            
            for (let i = 0; i < answers.length; i++) {
                if (answers[i] !== correctAnswers[i]) {
                    allCorrect = false;
                    feedback += `La réponse pour la phrase ${i+1} est incorrecte. La bonne réponse est "${correctAnswers[i]}".<br>`;
                }
            }
            
            const feedbackDiv = document.getElementById("pronounFeedback2");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Bravo ! Tu as trouvé les bons pronoms pour le verbe AVOIR ! 🎉";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Un petit effort ! Certains pronoms ne sont pas corrects.<br>" + feedback;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }

        // --- Tab 4: Adjectives ---
        
        function checkAdjectives() {
            const answers = [
                document.getElementById("adj1").value.toLowerCase().trim(),
                document.getElementById("adj2").value.toLowerCase().trim(),
                document.getElementById("adj3").value.toLowerCase().trim(),
                document.getElementById("adj4").value.toLowerCase().trim(),
                document.getElementById("adj5").value.toLowerCase().trim(),
                document.getElementById("adj6").value.toLowerCase().trim(),
                document.getElementById("adj7").value.toLowerCase().trim(),
                document.getElementById("adj8").value.toLowerCase().trim()
            ];
            
            // Corrected answers based on common animal descriptions and agreements
            const correctAnswers = ["jolie", "puissante", "petites", "longue", "énormes", "grosses", "fines", "pointus"]; 
            // Note: "grosses" is more common for elephant's "pattes" than "énormes" if referring to the legs themselves, but both acceptable.
            // "Grandes" could also work for elephant ears.
            let allCorrect = true;
            let feedback = "";
            
            for (let i = 0; i < answers.length; i++) {
                // For flexible answers, you might use an array of acceptable answers
                let isCorrect = false;
                if (i === 2) { // Special case for fennec's ears, often described as "grandes" as well
                    if (answers[i] === "petites" || answers[i] === "grandes") {
                        isCorrect = true;
                    }
                } else if (i === 5) { // Special case for elephant's legs, "grosses" or "énormes"
                     if (answers[i] === "grosses" || answers[i] === "énormes") {
                        isCorrect = true;
                    }
                } else {
                    if (answers[i] === correctAnswers[i]) {
                        isCorrect = true;
                    }
                }

                if (!isCorrect) {
                    allCorrect = false;
                    feedback += `La réponse ${i+1} est incorrecte. La bonne réponse est "${correctAnswers[i]}".<br>`;
                }
            }
            
            const feedbackDiv = document.getElementById("adjectiveFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Super ! Tous les adjectifs sont corrects ! 🌟";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Il y a quelques fautes. Vérifie bien les adjectifs et leur sens !<br>" + feedback;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }

        function checkAdjectiveMultipleChoice() {
            const paragraphs = document.querySelectorAll('#tab4 .adjective-exercise p');
            let allCorrect = true;
            let feedbackMessages = [];

            paragraphs.forEach((p, index) => {
                const selectedOption = p.querySelector('.adjective-option.selected');
                
                // Get the correct option from the data-correct-option attribute of the paragraph
                const correctOptionText = p.dataset.correctOption;

                if (!selectedOption) {
                    allCorrect = false;
                    feedbackMessages.push(`Phrase ${index + 1} : Tu n'as pas fait de choix.`);
                } else if (selectedOption.textContent.toLowerCase().trim() !== correctOptionText.toLowerCase().trim()) {
                    allCorrect = false;
                    feedbackMessages.push(`Phrase ${index + 1} : La réponse choisie est "${selectedOption.textContent.trim()}" mais la bonne est "${correctOptionText}".`);
                }
            });

            const feedbackDiv = document.getElementById("adjectiveMultipleChoiceFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Bravo ! Tu as parfaitement accordé les adjectifs ! 🥇";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Attention à l'accord des adjectifs ! Voici les erreurs :<br>" + feedbackMessages.join("<br>");
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }
        
        function checkAdjectiveAgreement() {
            const answers = [
                document.getElementById("adj9").value.toLowerCase().trim(),
                document.getElementById("adj10").value.toLowerCase().trim(),
                document.getElementById("adj11").value.toLowerCase().trim(),
                document.getElementById("adj12").value.toLowerCase().trim() // New agreement exercise
            ];
            
            const correctAnswers = ["puissantes", "jolies", "longue", "grande"];
            let allCorrect = true;
            let feedback = "";
            
            for (let i = 0; i < answers.length; i++) {
                if (answers[i] !== correctAnswers[i]) {
                    allCorrect = false;
                    feedback += `La réponse pour la phrase ${i+1} est incorrecte. La bonne réponse est "${correctAnswers[i]}".<br>`;
                }
            }
            
            const feedbackDiv = document.getElementById("agreementFeedback");
            if (allCorrect) {
                feedbackDiv.innerHTML = "Félicitations ! Tu maîtrises l'accord de l'adjectif ! 🥳";
                feedbackDiv.className = "feedback correct";
            } else {
                feedbackDiv.innerHTML = "Presque ! Vérifie l'accord des adjectifs dans ces phrases :<br>" + feedback;
                feedbackDiv.className = "feedback incorrect";
            }
            feedbackDiv.style.display = "block";
        }

        // Initialize first tab on load
        document.addEventListener('DOMContentLoaded', (event) => {
            // Select the first tab button and trigger its click event
            const firstTabButton = document.querySelector('.tab-button');
            if (firstTabButton) {
                firstTabButton.click();
            }
        });

        // Event delegation for adjective option selection to handle dynamic content or easier setup
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('adjective-option')) {
                selectOption(event.target);
            }
        });
    </script>
</body>
</html>
